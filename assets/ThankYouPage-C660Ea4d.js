import{j as s,aH as l,r as o,A as p,s as x,n as j,S as f,L as g,af as y}from"./index-CDuOHj3I.js";import{P as I}from"./PaymentSuccessRecommendations-BnoR_Hcy.js";import"./blur-ezPV0XHg.js";const h=({size:n="medium",color:t="primary",className:i=""})=>{const a=`spinner-${n}`,c=`spinner-${t}`;return s.jsx("div",{className:`loading-spinner ${a} ${c} ${i}`,children:s.jsx("div",{className:"spinner-circle"})})};h.propTypes={size:l.oneOf(["small","medium","large"]),color:l.oneOf(["primary","secondary","light","dark"]),className:l.string};const S=()=>{const[n,t]=o.useState([]),[i,a]=o.useState(!0),{user:c}=o.useContext(p),m=x(),u=j.useMemo(()=>{const d=new URLSearchParams(m.search),e=d.get("session_id"),r=d.get("order_id");return{sessionId:e,orderId:r}},[m.search]);return o.useEffect(()=>{window.scrollTo(0,0),(()=>{try{const e=localStorage.getItem("lastPurchasedItems");if(e){const r=JSON.parse(e);Array.isArray(r)&&r.length>0&&t(r)}a(!1)}catch(e){console.error("Error retrieving purchased items:",e),a(!1)}})()},[c]),s.jsxs("div",{className:"thankyou-container",children:[s.jsxs("div",{className:"thankyou-card",children:[s.jsx("div",{className:"success-icon",children:s.jsx(f,{})}),s.jsx("h1",{children:"Thank You for Your Purchase!"}),s.jsx("p",{className:"confirmation",children:"Your order has been successfully processed. You will receive a confirmation email shortly with your order details."}),s.jsxs("div",{className:"order-details",children:[s.jsx("p",{children:"The digital products will be available in your email inbox in the next few minutes."}),s.jsx("p",{children:"If you have any questions or need assistance, please don't hesitate to contact our support team."}),u.orderId&&s.jsxs("p",{className:"order-id",children:["Order ID: ",u.orderId]})]}),s.jsx("div",{className:"action-buttons",children:s.jsxs(g,{to:"/",className:"continue-shopping",children:[s.jsx(y,{})," Continue Shopping"]})})]}),i?s.jsxs("div",{className:"loading-recommendations",children:[s.jsx(h,{size:"medium"}),s.jsx("p",{children:"Preparing personalized recommendations for you..."})]}):s.jsx(I,{purchasedItems:n,currency:"$",limit:3})]})};export{S as default};
