import{r as n,j as e,aE as b}from"./index-CDuOHj3I.js";const j=()=>{const[d,a]=n.useState("idle"),[c,i]=n.useState(null),[r,o]=n.useState(null),[l,m]=n.useState("aNlBYTxPgXlDAKQkyEWP"),x=async t=>{a("loading"),o(null);try{const s=await b.get(t);return i(s.data),a("success"),s.data}catch(s){console.error("API test error:",s);const g={message:s.message,status:s.response?.status,statusText:s.response?.statusText,data:s.response?.data,config:{url:s.config?.url,method:s.config?.method,headers:s.config?.headers}};return o(g),a("error"),null}},u=()=>{x("/api/ai-tools")},h=()=>{x(`/api/ai-tools/${l}`)},p=async()=>{a("loading"),o(null);try{const t=await fetch(`/api/ai-tools/${l}`);if(!t.ok)throw new Error(`Fetch failed with status: ${t.status} ${t.statusText}`);const s=await t.json();i(s),a("success")}catch(t){console.error("Fetch API test error:",t),o({message:t.message,type:"fetch-error"}),a("error")}};return e.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"API Test Page"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("input",{type:"text",value:l,onChange:t=>m(t.target.value),className:"flex-grow p-2 border border-gray-300 rounded-md mr-4",placeholder:"Enter prompt ID to test"})}),e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsx("button",{onClick:u,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Test GET /api/ai-tools"}),e.jsxs("button",{onClick:h,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:["Test GET /api/ai-tools/",l]}),e.jsx("button",{onClick:p,className:"px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600",children:"Test with fetch() API"})]})]}),e.jsxs("div",{className:"bg-gray-100 p-4 rounded-md",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-2",children:["Status: ",d]}),d==="loading"&&e.jsx("p",{children:"Loading..."}),r&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md mb-4",children:[e.jsx("h3",{className:"font-bold",children:"Error"}),e.jsxs("p",{children:["Message: ",r.message]}),r.status&&e.jsxs("p",{children:["Status: ",r.status]}),r.statusText&&e.jsxs("p",{children:["Status Text: ",r.statusText]}),r.data&&e.jsx("pre",{className:"mt-2 p-2 bg-red-50 overflow-auto max-h-40 text-sm",children:JSON.stringify(r.data,null,2)}),r.config&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{children:"Request Config:"}),e.jsx("pre",{className:"p-2 bg-red-50 overflow-auto max-h-40 text-sm",children:JSON.stringify(r.config,null,2)})]})]}),c&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Response Data:"}),e.jsx("pre",{className:"p-4 bg-white border border-gray-300 rounded-md overflow-auto max-h-96 text-sm",children:JSON.stringify(c,null,2)})]})]})]})};export{j as default};
