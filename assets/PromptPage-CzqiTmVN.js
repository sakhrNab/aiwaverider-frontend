import{C as oe,D as ce,t as de,ad as me,r,j as e,ae as xe,x as pe,af as ge,ag as ue,ah as he,o as G,p as be,y as i,ai as fe,aj as je,ak as ye,al as we,v as Ne}from"./index-CDuOHj3I.js";import{f as ve,i as ke,t as Le}from"./promptsApi-BDedM9HX.js";import{p as Ce}from"./purify.es-DxJI3Wx7.js";const Pe=()=>{const{id:c}=oe(),d=ce(),{darkMode:h}=de(),{user:n,isAdmin:J}=me(),[t,Q]=r.useState(null),[ee,A]=r.useState(!0),[E,m]=r.useState(null),[P,S]=r.useState(!1),[k,M]=r.useState(0),[L,T]=r.useState(!1),[F,te]=r.useState(!1),[b,$]=r.useState(!1),[se,z]=r.useState(""),[ae,R]=r.useState(""),[l,x]=r.useState(1),[W,C]=r.useState(!1),[p,g]=r.useState(!1),[De,X]=r.useState({x:0,y:0}),[Y,f]=r.useState({x:0,y:0}),[u,j]=r.useState({x:0,y:0});r.useEffect(()=>{c&&(async()=>{try{A(!0),m(null);const a=await ve(c);a?(Q(a),M(a.likeCount||0),n&&a.likes&&Array.isArray(a.likes)&&S(a.likes.includes(n.uid))):m("Prompt not found. Please check the ID and try again.")}catch(a){console.error("Error fetching prompt:",a),a.response?.status===404?m("Prompt not found. Please check the ID and try again."):a.response?.status===500?m("Server error occurred. Please try again later."):m("Error loading prompt data. Please try again later.")}finally{A(!1)}})()},[c,n]),r.useEffect(()=>{t&&!F&&(async()=>{try{await ke(t.id),te(!0)}catch(a){console.error("❌ Failed to increment view count:",a)}})()},[t,F]);const re=()=>{d(`/admin/prompts/${c}`)},le=async()=>{if(!n){i.error("Please log in to like prompts");return}if(!L)try{T(!0);const s=await Le(c);s.success?(S(s.data.isLiked),M(s.data.likeCount),s.data.isLiked?i.success("Prompt liked!"):i.success("Prompt unliked")):i.error("Failed to update like status")}catch(s){console.error("Error toggling like:",s),i.error("Failed to update like status")}finally{T(!1)}},D=(s,a)=>{z(s),R(a),$(!0),x(1),C(!1)},O=()=>{$(!1),z(""),R(""),x(1),C(!1),f({x:0,y:0}),g(!1)},V=()=>{x(s=>Math.min(s+.25,5))},_=()=>{x(s=>Math.max(s-.25,.25))},B=()=>{x(1),f({x:0,y:0})},H=()=>{C(s=>!s)},ne=s=>{l>1&&(s.preventDefault(),g(!0),X({x:s.clientX,y:s.clientY}),j({x:s.clientX,y:s.clientY}))},q=s=>{if(p&&l>1){s.preventDefault();const a=s.clientX-u.x,y=s.clientY-u.y;f(w=>{const N=w.x+a,I=w.y+y,o=200*l;return{x:Math.max(-o,Math.min(o,N)),y:Math.max(-o,Math.min(o,I))}}),j({x:s.clientX,y:s.clientY})}},Z=()=>{g(!1)},ie=s=>{if(l>1&&s.touches.length===1){s.preventDefault();const a=s.touches[0];g(!0),X({x:a.clientX,y:a.clientY}),j({x:a.clientX,y:a.clientY})}},U=s=>{if(p&&l>1&&s.touches.length===1){s.preventDefault();const a=s.touches[0],y=a.clientX-u.x,w=a.clientY-u.y;f(N=>{const I=N.x+y,o=N.y+w,v=200*l;return{x:Math.max(-v,Math.min(v,I)),y:Math.max(-v,Math.min(v,o))}}),j({x:a.clientX,y:a.clientY})}},K=()=>{g(!1)};return r.useEffect(()=>{const s=a=>{if(b)switch(a.key){case"Escape":O();break;case"+":case"=":a.preventDefault(),V();break;case"-":a.preventDefault(),_();break;case"0":a.preventDefault(),B();break;case"f":case"F":a.preventDefault(),H();break}};return b?(document.body.style.overflow="hidden",document.addEventListener("keydown",s),document.addEventListener("mousemove",q),document.addEventListener("mouseup",Z),document.addEventListener("touchmove",U,{passive:!1}),document.addEventListener("touchend",K)):document.body.style.overflow="unset",()=>{document.removeEventListener("keydown",s),document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",Z),document.removeEventListener("touchmove",U),document.removeEventListener("touchend",K),document.body.style.overflow="unset"}},[b,p,l,u]),ee?e.jsx("div",{className:`prompt-page ${h?"dark-mode":"light-mode"} min-h-screen flex items-center justify-center`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(xe,{className:"animate-spin text-4xl mx-auto mb-4"}),e.jsx("p",{className:"text-wrap",children:"Loading prompt..."})]})}):E?e.jsx("div",{className:`prompt-page ${h?"dark-mode":"light-mode"} min-h-screen flex items-center justify-center`,children:e.jsxs("div",{className:"text-center max-w-lg p-6 rounded-lg shadow-lg bg-opacity-80 backdrop-blur-md error-container",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(pe,{className:"text-yellow-500 text-3xl mr-2"}),e.jsx("h2",{className:"text-2xl font-bold text-red-500 text-wrap",children:"Error"})]}),e.jsx("p",{className:"mb-4 text-wrap",children:E}),e.jsxs("div",{className:"mt-6 mb-6",children:[e.jsx("h3",{className:"font-semibold mb-2 text-wrap",children:"Troubleshooting Options:"}),e.jsxs("ul",{className:"list-disc text-left pl-5 mb-4 text-wrap",children:[e.jsx("li",{children:"Check if the backend server is running"}),e.jsx("li",{children:"Verify that the prompt ID exists in your database"}),e.jsx("li",{children:"Try again or use a different prompt"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[e.jsx("button",{onClick:()=>d("/prompts"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-wrap",children:"Back to Prompts"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-wrap",children:"Try Again"})]})]})}):t?e.jsxs("div",{className:`prompt-page ${h?"dark-mode":"light-mode"} min-h-screen`,children:[e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>d("/prompts"),className:"mb-4 flex items-center text-blue-600 hover:text-blue-800 transition-colors text-wrap",children:[e.jsx(ge,{className:"mr-2"}),"Back to Prompts"]}),J&&e.jsxs("button",{onClick:re,className:"absolute top-24 right-6 flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-wrap",children:[e.jsx(ue,{className:"mr-2"}),"Edit Prompt"]}),e.jsxs("div",{className:"prompt-container bg-opacity-80 backdrop-blur-md rounded-xl shadow-2xl p-6 md:p-8 mb-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"page-title-container",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal",maxWidth:"100%",width:"100%"},children:[e.jsx("h1",{className:"text-wrap",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal",maxWidth:"100%",width:"100%",fontSize:"clamp(1.5rem, 6vw, 3rem)",lineHeight:"1.2",fontWeight:"bold",margin:"0",wordBreak:"break-word"},children:t.title}),e.jsx("div",{style:{display:"none"},children:e.jsx(he,{title:t.title})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-4 gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[t.category&&e.jsx("div",{className:"category-badge inline-block px-3 py-1 rounded-full text-sm font-medium text-wrap",children:t.category}),t.tags&&t.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.tags.slice(0,3).map((s,a)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full text-wrap flex-shrink-0",children:s},a)),t.tags.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full text-wrap",children:["+",t.tags.length-3," more"]})]})]}),n&&e.jsxs("button",{onClick:le,disabled:L,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all flex-shrink-0 ${P?"bg-red-500 text-white hover:bg-red-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"} ${L?"opacity-50 cursor-not-allowed":""}`,children:[P?e.jsx(G,{}):e.jsx(be,{}),e.jsx("span",{className:"text-wrap",children:k})]}),!n&&k>0&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 flex-shrink-0",children:[e.jsx(G,{className:"text-red-500"}),e.jsx("span",{className:"text-wrap",children:k})]})]})]}),t.keywords&&t.keywords.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-3 text-wrap",children:"Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.keywords.map((s,a)=>e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-sm rounded-full text-wrap flex-shrink-0",children:s},a))})]}),(t.author||t.authorEmail||t.authorWebsite)&&e.jsxs("div",{className:"mb-8 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold mb-3 text-wrap",children:"Author Information"}),e.jsxs("div",{className:"space-y-2",children:[t.author&&e.jsxs("p",{className:"text-wrap",children:[e.jsx("strong",{children:"Author:"})," ",t.author]}),t.authorEmail&&e.jsxs("p",{className:"text-wrap",children:[e.jsx("strong",{children:"Email:"}),e.jsx("a",{href:`mailto:${t.authorEmail}`,className:"ml-2 text-blue-600 hover:text-blue-800 underline break-all",children:t.authorEmail})]}),t.authorWebsite&&e.jsxs("p",{className:"text-wrap",children:[e.jsx("strong",{children:"Website:"}),e.jsx("a",{href:t.authorWebsite.startsWith("http")?t.authorWebsite:`https://${t.authorWebsite}`,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:text-blue-800 underline break-all",children:t.authorWebsite})]})]})]}),t.usageInstructions&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-3 text-wrap",children:"Usage Instructions"}),e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsx("p",{className:"text-wrap leading-relaxed",children:t.usageInstructions})})]}),t.exampleOutput&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-3 text-wrap",children:"Example Output"}),e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border-l-4 border-green-500",children:e.jsx("pre",{className:"whitespace-pre-wrap text-wrap font-mono text-sm",children:t.exampleOutput})})]}),t.prerequisites&&t.prerequisites.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-3 text-wrap",children:"Prerequisites"}),e.jsx("ul",{className:"list-disc pl-6 space-y-1",children:t.prerequisites.map((s,a)=>e.jsx("li",{className:"text-wrap",children:s},a))})]}),t.difficultyLevel&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-3 text-wrap",children:"Difficulty Level"}),e.jsx("div",{className:`inline-block px-4 py-2 rounded-full text-sm font-medium text-wrap ${t.difficultyLevel.toLowerCase()==="beginner"?"bg-green-100 text-green-800":t.difficultyLevel.toLowerCase()==="intermediate"?"bg-yellow-100 text-yellow-800":t.difficultyLevel.toLowerCase()==="advanced"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:t.difficultyLevel})]}),t.estimatedTime&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-3 text-wrap",children:"Estimated Time"}),e.jsxs("p",{className:"text-lg text-wrap",children:[e.jsx("i",{className:"far fa-clock mr-2"}),t.estimatedTime]})]}),t.additionalHTML&&e.jsxs("div",{className:"prompt-content mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-3 text-wrap",children:"Prompt Content"}),e.jsx("div",{className:"rich-text-content text-wrap",dangerouslySetInnerHTML:{__html:Ce.sanitize(t.additionalHTML,{ADD_ATTR:["src","alt","class"],ADD_TAGS:["img"]})},onLoad:()=>{document.querySelectorAll(".rich-text-content img").forEach((a,y)=>{})}})]}),(t.inputImage||t.image)&&e.jsxs("div",{className:"prompt-images-container mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-6 text-wrap",children:"Visual Comparison"}),t.inputImage&&t.image?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"image-comparison-item",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400 text-wrap",children:"Input Image"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded-full text-wrap",children:"Before"})]}),e.jsx("div",{className:"image-wrapper bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border-2 border-dashed border-blue-200 dark:border-blue-700",children:e.jsx("img",{src:t.inputImage,alt:`Input for ${t.title}`,className:"w-full h-auto max-h-96 object-contain cursor-pointer hover:opacity-90 transition-opacity rounded-lg",onClick:()=>D(t.inputImage,`Input for ${t.title}`),onLoad:()=>console.log("✅ Input image loaded:",t.inputImage),onError:s=>console.log("❌ Input image failed to load:",s.target.src),title:"Click to open in full screen"})})]}),e.jsxs("div",{className:"image-comparison-item",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-lg font-semibold text-green-600 dark:text-green-400 text-wrap",children:"Result Image"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded-full text-wrap",children:"After"})]}),e.jsx("div",{className:"image-wrapper bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border-2 border-dashed border-green-200 dark:border-green-700",children:e.jsx("img",{src:t.image,alt:`Result for ${t.title}`,className:"w-full h-auto max-h-96 object-contain cursor-pointer hover:opacity-90 transition-opacity rounded-lg",onClick:()=>D(t.image,`Result for ${t.title}`),onLoad:()=>console.log("✅ Result image loaded:",t.image),onError:s=>console.log("❌ Result image failed to load:",s.target.src),title:"Click to open in full screen"})})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"← Input"}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Compare the transformation"}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Result →"})]})})]}):!t.inputImage&&t.image&&e.jsxs("div",{className:"image-comparison-item",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400 text-wrap",children:"Visual Example"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full text-wrap",children:"Result"})]}),e.jsx("div",{className:"image-wrapper bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border-2 border-dashed border-gray-200 dark:border-gray-600",children:e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-auto max-h-96 object-contain cursor-pointer hover:opacity-90 transition-opacity rounded-lg",onClick:()=>D(t.image,t.title),onLoad:()=>console.log("✅ Main image loaded:",t.image),onError:s=>console.log("❌ Main image failed to load:",s.target.src),title:"Click to open in full screen"})})]})]}),t.relatedPrompts&&t.relatedPrompts.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-3 text-wrap",children:"Related Prompts"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.relatedPrompts.map((s,a)=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2 text-wrap",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-wrap",children:s.description}),s.id&&e.jsx("button",{onClick:()=>d(`/prompts/${s.id}`),className:"mt-2 text-blue-600 hover:text-blue-800 text-sm underline text-wrap",children:"View Prompt"})]},a))})]}),t.allowComments&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-3 text-wrap",children:"Comments"}),e.jsxs("div",{className:"space-y-4",children:[t.comments&&t.comments.length>0?t.comments.map((s,a)=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("strong",{className:"text-wrap",children:s.author||"Anonymous"}),e.jsx("span",{className:"text-sm text-gray-500 text-wrap",children:new Date(s.createdAt).toLocaleDateString()})]}),e.jsx("p",{className:"text-wrap",children:s.content})]},a)):e.jsx("p",{className:"text-gray-500 text-wrap",children:"No comments yet. Be the first to comment!"}),n&&e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("textarea",{className:"w-full p-3 border rounded-lg resize-vertical min-h-[100px] text-wrap",placeholder:"Add your comment..."}),e.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-wrap",children:"Post Comment"})]})]})]}),t.link&&e.jsx("div",{className:"mt-8 text-center",children:e.jsx("a",{href:t.link.startsWith("http")?t.link:`https://${t.link}`,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-medium rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg text-wrap",children:"Visit Prompt Source"})}),(t.downloadable||t.copyable)&&e.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row justify-center gap-4",children:[t.downloadable&&e.jsx("button",{className:"px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-all shadow-lg text-wrap",onClick:()=>{i.success("Prompt downloaded!")},children:"Download Prompt"}),t.copyable&&e.jsx("button",{className:"px-6 py-3 bg-orange-600 text-white font-medium rounded-lg hover:bg-orange-700 transition-all shadow-lg text-wrap",onClick:()=>{navigator.clipboard.writeText(t.additionalHTML||t.description),i.success("Prompt copied to clipboard!")},children:"Copy to Clipboard"})]}),t.allowRating&&e.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold mb-3 text-wrap",children:"Rate This Prompt"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(s=>e.jsx("button",{className:"text-2xl text-yellow-400 hover:text-yellow-500 transition-colors",children:"★"},s))}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 text-wrap",children:t.averageRating?`${t.averageRating}/5 (${t.ratingCount} ratings)`:"No ratings yet"})]})]}),(t.createdAt||t.updatedAt||t.viewCount||t.version)&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-bold mb-3 text-wrap",children:"Prompt Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-gray-600 dark:text-gray-400",children:[t.createdAt&&e.jsxs("div",{className:"text-wrap",children:[e.jsx("strong",{children:"Created:"})," ",(()=>{try{let s;return t.createdAt.toDate&&typeof t.createdAt.toDate=="function"?s=t.createdAt.toDate():t.createdAt.seconds?s=new Date(t.createdAt.seconds*1e3):t.createdAt._seconds?s=new Date(t.createdAt._seconds*1e3):s=new Date(t.createdAt),isNaN(s.getTime())?"N/A":s.toLocaleDateString()}catch(s){return console.error("Error parsing createdAt:",s),"N/A"}})()]}),t.updatedAt&&e.jsxs("div",{className:"text-wrap",children:[e.jsx("strong",{children:"Updated:"})," ",(()=>{try{let s;return t.updatedAt.toDate&&typeof t.updatedAt.toDate=="function"?s=t.updatedAt.toDate():t.updatedAt.seconds?s=new Date(t.updatedAt.seconds*1e3):t.updatedAt._seconds?s=new Date(t.updatedAt._seconds*1e3):s=new Date(t.updatedAt),isNaN(s.getTime())?"N/A":s.toLocaleDateString()}catch(s){return console.error("Error parsing updatedAt:",s),"N/A"}})()]}),t.viewCount!==void 0&&e.jsxs("div",{className:"text-wrap",children:[e.jsx("strong",{children:"Views:"})," ",t.viewCount.toLocaleString()]}),t.version&&e.jsxs("div",{className:"text-wrap",children:[e.jsx("strong",{children:"Version:"})," ",t.version]}),t.language&&e.jsxs("div",{className:"text-wrap",children:[e.jsx("strong",{children:"Language:"})," ",t.language]})]})]}),t.license&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2 text-wrap",children:"License"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-wrap",children:t.license})]})]})]}),b&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 bg-gradient-to-b from-black/80 to-transparent p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center bg-black/60 backdrop-blur-sm rounded-lg p-1",children:[e.jsx("button",{onClick:_,className:"p-2 text-white hover:bg-white/20 rounded-md transition-all duration-200 hover:scale-105",title:"Zoom Out (-)",children:e.jsx(fe,{size:16})}),e.jsxs("div",{className:"px-3 py-2 text-white text-sm font-medium min-w-[60px] text-center",children:[Math.round(l*100),"%"]}),e.jsx("button",{onClick:V,className:"p-2 text-white hover:bg-white/20 rounded-md transition-all duration-200 hover:scale-105",title:"Zoom In (+)",children:e.jsx(je,{size:16})})]}),e.jsx("button",{onClick:B,className:"px-3 py-2 bg-black/60 backdrop-blur-sm text-white hover:bg-white/20 rounded-lg transition-all duration-200 hover:scale-105 text-sm font-medium",title:"Reset Zoom (0)",children:"1:1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:H,className:"p-2 bg-black/60 backdrop-blur-sm text-white hover:bg-white/20 rounded-lg transition-all duration-200 hover:scale-105",title:"Toggle Fullscreen (F)",children:W?e.jsx(ye,{size:16}):e.jsx(we,{size:16})}),e.jsx("button",{onClick:O,className:"p-2 bg-red-600/80 backdrop-blur-sm text-white hover:bg-red-500/80 rounded-lg transition-all duration-200 hover:scale-105",title:"Close (Esc)",children:e.jsx(Ne,{size:16})})]})]})}),e.jsx("div",{className:`flex items-center justify-center w-full h-full ${W?"p-0":"pt-20 pb-16 px-8"} overflow-hidden`,style:{cursor:l>1?p?"grabbing":"grab":"default"},children:e.jsx("img",{src:se,alt:ae,className:"max-w-full max-h-full object-contain transition-transform duration-200 shadow-2xl",style:{transform:`scale(${l}) translate(${Y.x}px, ${Y.y}px)`,transformOrigin:"center",cursor:l>1?p?"grabbing":"grab":"default",userSelect:"none"},draggable:!1,onMouseDown:ne,onTouchStart:ie})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-20 bg-gradient-to-t from-black/80 to-transparent p-4",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"bg-black/60 backdrop-blur-sm text-white px-4 py-2 rounded-lg text-sm",children:[e.jsxs("span",{className:"hidden sm:inline",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-white/20 rounded text-xs",children:"+"})," / ",e.jsx("kbd",{className:"px-1.5 py-0.5 bg-white/20 rounded text-xs",children:"-"})," to zoom •",e.jsx("kbd",{className:"px-1.5 py-0.5 bg-white/20 rounded text-xs",children:"0"})," reset •",e.jsx("kbd",{className:"px-1.5 py-0.5 bg-white/20 rounded text-xs",children:"F"})," fullscreen • Drag to pan • ",e.jsx("kbd",{className:"px-1.5 py-0.5 bg-white/20 rounded text-xs",children:"Esc"})," close"]}),e.jsxs("span",{className:"sm:hidden",children:["Pinch to zoom • Drag to pan • ",e.jsx("kbd",{className:"px-1.5 py-0.5 bg-white/20 rounded text-xs",children:"Esc"})," close"]})]})})})]})})]}):e.jsx("div",{className:`prompt-page ${h?"dark-mode":"light-mode"} min-h-screen flex items-center justify-center`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-wrap",children:"No prompt found with this ID."}),e.jsx("button",{onClick:()=>d("/prompts"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-wrap",children:"Back to Prompts"})]})})};export{Pe as default};
