import{aF as x,r as n,bc as p,j as e,aG as h,y as d,bd as m,A as y,t as b}from"./index-CDuOHj3I.js";const g=({planId:l,onConfirmed:i=()=>{},disabled:a=!1})=>{const[{options:c},o]=x(),t=l||p();return n.useEffect(()=>{const r={...c,vault:!0,intent:"subscription",components:"buttons"};o({type:"resetOptions",value:r})},[t]),t?e.jsx(h,{style:{layout:"vertical"},fundingSource:"paypal",createSubscription:(r,s)=>s.subscription.create({plan_id:t}),onApprove:async r=>{try{const s=await m.post("/api/payments/paypal/subscriptions/confirm",{subscriptionID:r.subscriptionID});if(s.data?.success){try{localStorage.setItem("subscription_status","active")}catch{}d.success("Subscription activated. Thank you!"),i(s.data)}else d.error(s.data?.error||"Failed to confirm subscription")}catch(s){console.error("Subscription confirmation error:",s),d.error(s?.response?.data?.error||s.message||"Subscription confirmation failed")}},onError:r=>{console.error("PayPal subscription error:",r),d.error("PayPal subscription failed. Please try again.")},onCancel:()=>{d.info("Subscription cancelled.")},disabled:a}):e.jsx("button",{className:"subscribe-btn",disabled:!0,children:"Subscription plan not configured"})},f=()=>{const[l,i]=n.useState(null),[a,c]=n.useState(!0),[o,t]=n.useState(null);return n.useEffect(()=>{(async()=>{try{c(!0);const s=p(),u=await m.get(`/api/payments/paypal/plans/${s}`);if(u.data?.success&&u.data?.plan)i(u.data.plan);else throw new Error("Failed to fetch plan details")}catch(s){console.error("Error fetching PayPal plan:",s),t(s.message),i({name:"All-Access Monthly",billing_cycles:[{pricing_scheme:{fixed_price:{currency_code:"USD",value:"29.99"}}}]})}finally{c(!1)}})()},[]),{plan:l,loading:a,error:o}},P=()=>{const{user:l}=n.useContext(y),{darkMode:i}=b(),{plan:a,loading:c}=f(),o=n.useMemo(()=>{try{return localStorage.getItem("subscription_status")==="active"}catch{return!1}},[]),t=n.useMemo(()=>a?.billing_cycles?.[0]?.pricing_scheme?.fixed_price?a.billing_cycles[0].pricing_scheme.fixed_price:{currency:"USD",value:"29.99"},[a]);return e.jsx("div",{className:`subscribe-hero min-h-screen ${i?"text-white":"text-gray-900"}`,children:e.jsxs("section",{className:"max-w-5xl mx-auto px-4 pt-14 pb-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold leading-tight text-center",children:"Unlock All AI Agents with All‑Access"}),e.jsx("p",{className:"mt-4 text-center text-lg opacity-90",children:"Unlimited downloads. New agents monthly. Priority support. Cancel anytime."}),e.jsxs("div",{className:"mt-10 grid md:grid-cols-2 gap-6 items-stretch",children:[e.jsxs("div",{className:"glass-panel p-6 rounded-2xl shadow-xl",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:a?.name||"All‑Access Monthly"}),e.jsx("div",{className:"flex items-end gap-2 mb-4",children:c?e.jsx("span",{className:"text-4xl font-extrabold animate-pulse",children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-4xl font-extrabold",children:[t.currency==="USD"?"$":t.currency==="EUR"?"€":t.currency,t.value]}),e.jsx("span",{className:"text-sm opacity-70",children:"/month"})]})}),e.jsxs("ul",{className:"space-y-2 text-sm opacity-95",children:[e.jsx("li",{children:"• Unlimited downloads of all paid agents"}),e.jsx("li",{children:"• Instant access to new releases"}),e.jsx("li",{children:"• Commercial use license"}),e.jsx("li",{children:"• Priority support"})]}),o?e.jsx("div",{className:"mt-6 text-green-600 font-semibold",children:"You already have an active subscription."}):e.jsx("div",{className:"mt-6",children:e.jsx(g,{onConfirmed:()=>window.location.assign("/agents")})}),e.jsx("p",{className:"mt-3 text-xs opacity-70",children:"No commitment. Cancel anytime."})]}),e.jsxs("div",{className:"glass-panel alt-panel p-6 rounded-2xl",children:[e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Why creators choose AI Waverider"}),e.jsxs("ul",{className:"space-y-3 text-sm",children:[e.jsx("li",{children:"• Save hours weekly with plug‑and‑play agents"}),e.jsx("li",{children:"• Proven workflows validated by the community"}),e.jsx("li",{children:"• Transparent pricing and instant delivery"}),e.jsx("li",{children:"• 7‑day money‑back guarantee if not satisfied"})]}),e.jsx("div",{className:"mt-6 text-xs opacity-70",children:l?"You are signed in. Your subscription will be linked to your account.":"You are not signed in. You can sign in during PayPal flow or after checkout."})]})]})]})})};export{P as default};
